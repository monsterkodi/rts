###
00     00   0000000   000000000  00000000  00000000   000   0000000   000       0000000
000   000  000   000     000     000       000   000  000  000   000  000      000     
000000000  000000000     000     0000000   0000000    000  000000000  000      0000000 
000 0 000  000   000     000     000       000   000  000  000   000  000           000
000   000  000   000     000     00000000  000   000  000  000   000  0000000  0000000 
###

Materials = 
    misc:
        transparent:    new THREE.MeshLambertMaterial  color:0x888888, depthWrite:false, transparent:true, opacity:0.1
        flat:           new THREE.MeshStandardMaterial color:0xffffff, metalness: 0.5, roughness: 0.7, flatShading:true, dithering:true
    wireframe:          new THREE.MeshBasicMaterial    color:0x888888, wireframe: true
    floor:              new THREE.MeshStandardMaterial color:0x222222, dithering:true
    shadow:             new THREE.ShadowMaterial       opacity: 0.2, depthWrite:false
    ctrl:
        transparent:    new THREE.MeshLambertMaterial  color:0x888888, depthWrite:false, transparent:true, opacity:0.0
        highlight:      new THREE.MeshStandardMaterial color:0xff0000, metalness: 0.5, roughness: 0.5, emissive:0xff0000
        start:          new THREE.MeshStandardMaterial color:0xff0000, metalness: 0.5, roughness: 0.5
        curve:          new THREE.MeshStandardMaterial color:0x111111, metalness: 0.8, roughness: 0.45, flatShading:true, dithering:true
    compass:
        head:           new THREE.MeshStandardMaterial color:Colors.compass.head,   metalness: 0.5, roughness: 0.5
        wheel:          new THREE.MeshStandardMaterial color:0x111111,             metalness: 0.8, roughness: 0.45, dithering:true
        dot0:           new THREE.MeshStandardMaterial color:Colors.compass.center, metalness: 0.5, roughness: 0.5  
        dot1:           new THREE.MeshStandardMaterial color:Colors.compass.head,   metalness: 0.5, roughness: 0.5  
        dot2:           new THREE.MeshStandardMaterial color:Colors.compass.center, metalness: 0.5, roughness: 0.5  
        dot3:           new THREE.MeshStandardMaterial color:Colors.compass.head,   metalness: 0.5, roughness: 0.5  
        dot4:           new THREE.MeshStandardMaterial color:Colors.compass.center, metalness: 0.5, roughness: 0.5  
        dot5:           new THREE.MeshStandardMaterial color:Colors.compass.head,   metalness: 0.5, roughness: 0.5  
        dot6:           new THREE.MeshStandardMaterial color:Colors.compass.center, metalness: 0.5, roughness: 0.5  
        dot7:           new THREE.MeshStandardMaterial color:Colors.compass.head,   metalness: 0.5, roughness: 0.5  
    train:
        window:         new THREE.MeshStandardMaterial color:0x000000, metalness: 0.5 roughness: 0.2 
        body:           new THREE.MeshStandardMaterial color:0xffffff, metalness: 0.2 roughness: 0.4 
        piston:         new THREE.MeshStandardMaterial color:0x000000, metalness: 0.1 roughness: 0.8 
        light:          new THREE.MeshStandardMaterial color:0x000000, metalness: 0.1 roughness: 0.8
    station:
        side:           new THREE.MeshStandardMaterial color:0x000000, metalness: 0.5 roughness: 0.2, dithering:true, side:THREE.DoubleSide
        central:        new THREE.MeshStandardMaterial color:0xffffff, metalness: 0.2 roughness: 0.4
    mining:
        chalk:          new THREE.MeshStandardMaterial color:0xffffff, metalness: 0.6 roughness: 0.05, emissive:0x777777, side:THREE.DoubleSide
        water:          new THREE.MeshStandardMaterial color:0x4444ff, metalness: 0.6 roughness: 0.01, emissive:0x4444aa, side:THREE.DoubleSide
        blood:          new THREE.MeshStandardMaterial color:0xff0000, metalness: 0.6 roughness: 0.1,  emissive:0xaa0000, side:THREE.DoubleSide
        stone:          new THREE.MeshStandardMaterial color:0x444444, metalness: 0.5 roughness: 0.01, emissive:0x333333, side:THREE.DoubleSide
    track:
        rail:           new THREE.MeshStandardMaterial color:Colors.track, metalness: 0.8, roughness: 0.45, flatShading:true, dithering:true
        highlight:      new THREE.MeshStandardMaterial color:0xff0000, metalness: 0.5, roughness: 0.5, emissive:0xff0000
    node:
        center:         new THREE.MeshStandardMaterial color:Colors.track,    metalness: 0.8, roughness: 0.45, flatShading:true, dithering:true
        out:            new THREE.MeshStandardMaterial color:Colors.node.out, metalness: 0.5, roughness: 0.5
        in:             new THREE.MeshStandardMaterial color:Colors.node.in,  metalness: 0.5, roughness: 0.5
        highlightIn:    new THREE.MeshStandardMaterial color:Colors.node.in,  metalness: 0.5, roughness: 0.5,  emissive: Colors.node.in
        highlightOut:   new THREE.MeshStandardMaterial color:Colors.node.out, metalness: 0.5, roughness: 0.5, emissive: Colors.node.out
    menu:
        active:         new THREE.MeshStandardMaterial color:Colors.menu.active,       metalness: 0.2, roughness: 0.5, emissive: Colors.menu.active
        inactive:       new THREE.MeshStandardMaterial color:Colors.menu.inactive,     metalness: 0.9, roughness: 0.75
        activeHigh:     new THREE.MeshStandardMaterial color:Colors.menu.activeHigh,   metalness: 0.9, roughness: 0.75
        inactiveHigh:   new THREE.MeshStandardMaterial color:Colors.menu.inactiveHigh, metalness: 0.9, roughness: 0.75
    physics:
        chain:          new THREE.MeshStandardMaterial color:0x000000, metalness: 0.5, roughness: 0.2

    setWire: (wire) ->
        
        prefs.set 'wire' wire
        for t in ['node' 'ctrl' 'compass' 'train' 'track' 'station' 'misc']
            for k,m of Materials[t]
                m.wireframe = wire
        
    getWire: -> prefs.get 'wire'
    toggleWire: -> Materials.setWire not Materials.getWire()

    setFlat: (flat) ->
        
        prefs.set 'flat' flat
        for k,m of Materials.train
            m.flatShading = flat
            m.needsUpdate = true
            
    getFlat: -> prefs.get 'flat'
    toggleFlat: -> Materials.setFlat not Materials.getFlat()

    setDither: (dither) ->
        
        Materials.floor.dithering = dither
        Materials.floor.needsUpdate = true
            
    toggleDither: ->
        
        Materials.setDither not Materials.dither
        
module.exports = Materials
